<script>
    function parseInput(cif, value) {
        switch (value[0]) {
            case 'F':
                clickCheckboxButton(cif, 1);
                break;
            default:
        }
    }

    function resizeDropdown(cif) {
        console.log("cif = ", cif);
        var $dropdown = $(sprintf("button[name='%s-dropdown']", cif));
        console.log("button.name = ", $dropdown);
        $dropdown.width("300px");
    }

    function updateDropdown(cif, value) {
        console.log("updateDropdown() called: ", value);
        var $dropdown = $(sprintf("button[name='%s-dropdown']", cif));
        var $link = $(sprintf("a[name='%s.%d-link']", cif, value));
        console.log($dropdown.attr('name'), ' = ', $link.attr('name'));
        $dropdown.text($link.text());
        return false;
    }

    function clickCheckboxButton(cif, type) {
        console.log("clickCheckboxButton(%s, %s) called: ", cif, type);
        var $radio = $(sprintf("input#%s-option%d", cif, type));
        var $labelF = $(sprintf("label#%s-option1-label", cif));
        var $labelGroup = $(sprintf("div#%s-btn-group", cif)).children();
        var $radioF = $(sprintf("input#%s-option1", cif));
        var $radioI = $(sprintf("input#%s-option2", cif));
        var $dropdown = $(sprintf("button[name='%s-dropdown']", cif));
        console.log("dropdown = ", $dropdown);

        if ($radio.is($radioF)) {
            $labelF.prop('checked', 'false');
            $labelF.removeClass('active');
            $labelGroup.button('reset');
            $labelGroup.removeClass('active');
            $dropdown.addClass('disabled');
        } else if ($radio.is($radioI)) {
            $labelF.button('reset');
            $labelF.removeClass('active');
            $dropdown.removeClass('disabled');
        } else {
            $labelF.button('reset');
            $labelF.removeClass('active');
            $dropdown.addClass('disabled');
        }
    }
</script>
